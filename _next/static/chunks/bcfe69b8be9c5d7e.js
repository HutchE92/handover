(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40082,e=>{"use strict";var s=e.i(43476),t=e.i(22016),a=e.i(27639);function r({patient:e,showActions:r=!0}){return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.lastName,", ",e.firstName]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["NHS: ",(0,a.formatNhsNumber)(e.nhsNumber)," | Age: ",(0,a.calculateAge)(e.dateOfBirth)]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(0,a.getResusStatusColor)(e.resuscitationStatus)}`,children:e.resuscitationStatus}),null!==e.earlyWarningScore&&(0,s.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(0,a.getNewsScoreColor)(e.earlyWarningScore)}`,children:["NEWS: ",e.earlyWarningScore]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Ward:"})," ",(0,s.jsx)("span",{className:"font-medium",children:e.ward})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Bed:"})," ",(0,s.jsx)("span",{className:"font-medium",children:e.bedNumber})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Diagnosis:"})," ",(0,s.jsx)("span",{className:"font-medium",children:e.diagnosis})]}),e.allergies&&(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("span",{className:"text-red-600 font-medium",children:"Allergies:"})," ",(0,s.jsx)("span",{className:"text-red-700",children:e.allergies})]})]}),r&&(0,s.jsxs)("div",{className:"flex space-x-2 pt-3 border-t border-gray-100",children:[(0,s.jsx)(t.default,{href:`/patients/${e.id}`,className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors",children:"View Details"}),(0,s.jsx)(t.default,{href:`/handover/new/${e.id}`,className:"flex-1 text-center px-3 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Create Handover"})]})]})}e.s(["default",()=>r])},52683,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),r=e.i(40082),d=e.i(27639),l=e.i(33234);function i(){let{patients:e,loading:i}=(0,l.usePatients)(!0),{notes:n,loading:c}=(0,l.useHandoverNotes)(),[o,x]=(0,t.useState)({totalPatients:0,highNewsCount:0,todayHandovers:0,wards:[]}),[m,h]=(0,t.useState)([]);if((0,t.useEffect)(()=>{if(!i&&!c){let s=new Date().toISOString().split("T")[0],t=e.filter(e=>null!==e.earlyWarningScore&&e.earlyWarningScore>=5).length,a=n.filter(e=>e.shiftDate===s).length,r=[...new Set(e.map(e=>e.ward))];x({totalPatients:e.length,highNewsCount:t,todayHandovers:a,wards:r}),h(n.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,5).map(s=>({...s,patient:e.find(e=>e.id===s.patientId)})))}},[e,n,i,c]),i||c)return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[50vh]",children:(0,s.jsx)("div",{className:"text-gray-500",children:"Loading dashboard..."})});let g=e.filter(e=>null!==e.earlyWarningScore&&e.earlyWarningScore>=5).sort((e,s)=>(s.earlyWarningScore||0)-(e.earlyWarningScore||0));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Nursing Handover Dashboard"}),(0,s.jsx)("p",{className:"text-blue-100",children:"SBAR-based shift handover management system"}),(0,s.jsx)("p",{className:"text-blue-200 text-sm mt-2",children:"Demo mode - Data stored in browser localStorage"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:o.totalPatients}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Active Patients"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-amber-600",children:o.highNewsCount}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"High NEWS Score"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600",children:o.todayHandovers}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Today's Handovers"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:o.wards.length}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Active Wards"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)(a.default,{href:"/patients/new",className:"px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors",children:"+ Add New Patient"}),(0,s.jsx)(a.default,{href:"/patients",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md font-medium hover:bg-gray-200 transition-colors",children:"View All Patients"}),(0,s.jsx)(a.default,{href:"/handover",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md font-medium hover:bg-gray-200 transition-colors",children:"View All Handovers"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Priority Patients",(0,s.jsx)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"(NEWS ≥ 5)"})]})}),(0,s.jsx)("div",{className:"p-4",children:0===g.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No patients with high NEWS scores"}):(0,s.jsx)("div",{className:"space-y-3",children:g.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium text-gray-900",children:[e.lastName,", ",e.firstName]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.ward," - Bed ",e.bedNumber]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(0,d.getNewsScoreColor)(e.earlyWarningScore)}`,children:["NEWS: ",e.earlyWarningScore]}),(0,s.jsx)(a.default,{href:`/handover/new/${e.id}`,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Handover"})]})]},e.id))})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Handovers"})}),(0,s.jsx)("div",{className:"p-4",children:0===m.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No handovers recorded yet"}):(0,s.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,s.jsx)(a.default,{href:`/handover/${e.id}`,className:"block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.patient?`${e.patient.lastName}, ${e.patient.firstName}`:"Unknown Patient"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.shiftType," shift • ",new Date(e.shiftDate).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["by ",e.createdBy]})]})},e.id))})})]})]}),e.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Patients"}),(0,s.jsx)(a.default,{href:"/patients",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All →"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.slice(0,6).map(e=>(0,s.jsx)(r.default,{patient:e},e.id))})]}),0===e.length&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No patients yet"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first patient"}),(0,s.jsx)(a.default,{href:"/patients/new",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors",children:"+ Add New Patient"})]})]})}e.s(["default",()=>i])}]);